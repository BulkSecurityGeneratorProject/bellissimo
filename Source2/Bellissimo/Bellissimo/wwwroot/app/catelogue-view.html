<link rel="import" href="../lib/polymer/polymer.html" />
<link rel="import" href="../lib/paper-card/paper-card.html" />
<link rel="import" href="../lib/iron-ajax/iron-ajax.html" />


<dom-module id="catelogue-view">
    <style></style>
    <template>

        <iron-ajax auto
                   id="getCatelogueList"
                   url="{{getCatelogueUrl}}"
                   method="GET"
                   content-type="application/json"
                   on-response="_catalogueData"></iron-ajax>

        <template is="dom-repeat" items="{{catalogueList}}">
            <div style="display:flex; flex-direction:row; flex-basis:100%">
                <paper-card heading="{{item.title}}" image="./images/{{item.path}}.jpg" alt="Emmental">
                    <div class="card-content">
                        <p>{{item.description}}</p> 
                        <p>{{item.price}}</p>
                    </div>
                    <div class="card-actions">
                        <paper-button>Add to cart</paper-button>
                    </div>
                </paper-card>
            </div>
        </template>
    </template>
    <script>

        Polymer({

            is: 'catelogue-view',

            properties: {
                getCatelogueUrl: {type: String}, 
                catalogueList: {type: Array}
            },

            ready: function () {
                debugger; 
                this.getCatelogueUrl = "/Catalogue/GetAllCatalogue"; 
            },

            _catalogueData: function (e) {
                debugger; 
                this.set('catalogueList', e.detail.response)
            }
        }); 
    </script>
</dom-module>